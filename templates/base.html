<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>サプライチェーンシミュレーション</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- PicoCSS (CDN) -->
  <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2/css/pico.min.css">
  <style>
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    .truncate { max-width: 340px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .active-sort { text-decoration: underline; font-weight: 600; }
  </style>
  {% block head %}{% endblock %}
  </head>
<body>
  <main class="container">
    <header>
      <hgroup>
        <h1>サプライチェーンシミュレーション</h1>
        {% if subtitle %}<p class="mono">{{ subtitle }}</p>{% endif %}
      </hgroup>
      <nav style="display:flex; gap:10px; flex-wrap:wrap;">
        <a href="/">Home</a>
        <a href="/ui/runs">ラン履歴</a>
        <a href="/ui/scenarios">シナリオ一覧</a>
        <a href="/ui/configs">設定マスタ</a>
        <a href="/ui/jobs">ジョブ一覧</a>
        <a href="/ui/hierarchy">階層マスタ</a>
        <a href="/ui/planning">集約/詳細計画</a>
        <a href="/ui/plans">プラン一覧</a>
      </nav>
      <div id="hubBanner" style="display:none; margin-top:8px;">
        <article style="padding:8px 12px;">
          <strong>Planning Hub に移行中:</strong>
          入口は <a href="/ui/plans">/ui/plans</a> に統合しました（ベータ）。
          <button id="hubBannerClose" class="secondary" style="float:right;">閉じる</button>
        </article>
      </div>
    </header>
    {% block content %}{% endblock %}
  </main>
  {% block scripts %}{% endblock %}
  <script>
    (function(){
      function qs(id){ return document.getElementById(id); }
      function show(){ var el = qs('hubBanner'); if (el) el.style.display=''; }
      function hide(){ var el = qs('hubBanner'); if (el) el.style.display='none'; }
      try {
        var hidden = localStorage.getItem('hideHubBanner') === '1';
        if (!hidden) {
          show();
        }
        var btn = qs('hubBannerClose');
        if (btn) btn.addEventListener('click', function(){ localStorage.setItem('hideHubBanner','1'); hide(); });
      } catch(e) { show(); }
    })();
  </script>
</body>
</html>
