{% extends "base.html" %}
{% block content %}
<section>
  <h2>設定マスタ</h2>
  <p>
    <a role="button" href="/ui/configs/new">新規作成</a>
    <a role="button" class="secondary" href="/ui/runs">ラン履歴</a>
  </p>
  {% if rows %}
  <table role="grid">
    <thead>
      <tr>
        <th>ID</th>
        <th>名前</th>
        <th>更新時刻(ms)</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for r in rows %}
      <tr>
        <td class="mono">{{ r.id }}</td>
        <td class="mono truncate">{{ r.name }}</td>
        <td>{{ r.updated_at }}</td>
        <td>
          <a role="button" href="/ui/configs/{{ r.id }}/edit">編集</a>
          <form method="post" action="/ui/configs/{{ r.id }}/delete" style="display:inline" onsubmit="return confirm('削除しますか?');">
            <button type="submit" class="secondary">削除</button>
          </form>
          <a role="button" class="contrast" href="/?config_id={{ r.id }}" target="_blank" rel="noopener noreferrer">エディタで開く</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>設定がありません。「新規作成」から登録してください。</p>
  {% endif %}
</section>
{% endblock %}

